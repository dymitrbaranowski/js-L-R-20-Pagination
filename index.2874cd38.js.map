{"mappings":"AAEA,IAAMA,SAAW,8BACXC,UAAY,YACZC,IAAM,uBACZ,SAASC,eACP,IAAMC,EAAQ,IAAIC,gBAAgB,CAChCC,MAAO,GACPC,KAAM,IAGFC,EAAS,CACbC,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAcC,OAAJV,OAI7BW,MAAM,GAAcD,OAAXZ,UAAwBY,OAAbX,UAAU,KAASW,OAANR,GAASI,GAAQM,MAAK,SAAAC,G,OACrDC,QAAQC,IAAIF,E,IAGhBZ,eACA,IAAMe,OAASC,SAASC,cAAc,aAClCC,QAAU,CACZC,KAAM,KACNC,WAAY,QACZC,UAAW","sources":["src/script.js"],"sourcesContent":["// XJlq9OFMcHAy8pAQK7xj\n// https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\nconst BASE_URL = 'https://the-one-api.dev/v2/';\nconst END_POINT = 'character';\nconst KEY = '7KAdfd-upWP7afmgHvI7';\nfunction getCharacter() {\n  const param = new URLSearchParams({\n    limit: 30,\n    page: 1,\n  });\n\n  const option = {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${KEY}`,\n    },\n  };\n\n  fetch(`${BASE_URL}${END_POINT}?${param}`, option).then(resp =>\n    console.log(resp)\n  );\n}\ngetCharacter();\nconst target = document.querySelector('.js-guard');\nlet options = {\n  root: null,\n  rootMargin: '200px',\n  threshold: 1.0,\n};\n\n// let observer = new IntersectionObserver(callback, options);\n// function callback(evt){\n// console.log(evt);\n// }\n// const BASE_URL = \"https://api.themoviedb.org/3/\";\n// const ENDPOINT = \"trending/movie/day\";\n// const API_KEY = \"345007f9ab440e5b86cef51be6397df1\";\n// const list = document.querySelector(\".js-list\");\n// const loadMore = document.querySelector(\".js-load\");\n// let currentPage = 1;\n\n// loadMore.addEventListener(\"click\", onLoad);\n\n// function onLoad() {\n//   currentPage += 1;\n//   getTrending(currentPage)\n//     .then((data) => {\n//       list.insertAdjacentHTML(\"beforeend\", createMarkup(data.results));\n\n//       if (data.page === data.total_pages) {\n//         loadMore.hidden = true;\n//       }\n//     })\n//     .catch((err) => console.log(err));\n// }\n\n// function getTrending(page = 1) {\n//   return fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}&page=${page}`).then(\n//     (resp) => {\n//       if (!resp.ok) {\n//         throw new Error(resp.statusText);\n//       }\n\n//       return resp.json();\n//     }\n//   );\n// }\n// getTrending()\n//   .then((data) => {\n//     list.insertAdjacentHTML(\"beforeend\", createMarkup(data.results));\n//     observer.observe(target)\n//     if (data.page !== data.total_pages) {\n//       loadMore.hidden = false;\n//     }\n//   })\n//   .catch((err) => console.log(err));\n\n// function createMarkup(arr) {\n//   return arr\n//     .map(\n//       ({ poster_path, title }) => `<li>\n//     <img src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${title}\">\n//     <h2>${title}</h2>\n// </li>`\n//     )\n//     .join(\"\");\n// }\n\n// // ПЕРЕРВА ДО 22.00\n\n// let counter = 0;\n// document.addEventListener(\"scroll\", onScroll);\n\n// function onScroll() {\n//   counter += 1;\n//   console.log(counter);\n// }\n\n// const target = document.querySelector('.js-guard');\n// const BASE_URL = 'https://api.themoviedb.org/3/';\n// const ENDPOINT = 'trending/movie/day';\n// const API_KEY = '345007f9ab440e5b86cef51be6397df1';\n// const list = document.querySelector('.js-list');\n\n// let currentPage = 1;\n// let options = {\n//   root: null,\n//   rootMargin: '300px',\n//   threshold: 1.0,\n// };\n\n// let observer = new IntersectionObserver(onLoad, options);\n// function onLoad(entries, observer) {\n//   console.log(entries);\n//   entries.forEach(entry => {\n//     if (entry.isIntersecting) {\n//       currentPage += 1;\n//       getTrending(currentPage)\n//         .then(data => {\n//           list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//           if (data.page === data.total_pages) {\n//             observer.unobserve(target);\n//           }\n//         })\n//         .catch(err => console.log(err));\n//     }\n//   });\n// }\n\n// function createMarkup(arr) {\n//   return arr\n//     .map(\n//       ({ poster_path, title }) => `<li>\n//     <img src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${title}\">\n//     <h2>${title}</h2>\n// </li>`\n//     )\n//     .join('');\n// }\n\n// function getTrending(page = 1) {\n//   return fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}&page=${page}`).then(\n//     resp => {\n//       if (!resp.ok) {\n//         throw new Error(resp.statusText);\n//       }\n\n//       return resp.json();\n//     }\n//   );\n// }\n// getTrending()\n//   .then(data => {\n//     list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//     observer.observe(target);\n//   })\n//   .catch(err => console.log(err));\n"],"names":["BASE_URL","END_POINT","KEY","getCharacter","param","URLSearchParams","limit","page","option","method","headers","Authorization","concat","fetch","then","resp","console","log","target","document","querySelector","options","root","rootMargin","threshold"],"version":3,"file":"index.2874cd38.js.map"}